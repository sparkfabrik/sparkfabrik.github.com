<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Tech @ SparkFabrik</title>
    <link>http://sparkfabrik.github.io/post/</link>
    <description>Recent content in Posts on Tech @ SparkFabrik</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>info@sparkfabrik.com (Sparkfabrik)</managingEditor>
    <webMaster>info@sparkfabrik.com (Sparkfabrik)</webMaster>
    <lastBuildDate>Fri, 08 Apr 2016 01:00:00 -0400</lastBuildDate>
    <atom:link href="http://sparkfabrik.github.io/post/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Drush Make overwrites your custom .gitignore file</title>
      <link>http://sparkfabrik.github.io/2016/04/08/drush-make-gitignore</link>
      <pubDate>Fri, 08 Apr 2016 01:00:00 -0400</pubDate>
      <author>info@sparkfabrik.com (Sparkfabrik)</author>
      <guid>http://sparkfabrik.github.io/2016/04/08/drush-make-gitignore</guid>
      <description>

&lt;h1 id=&#34;managing-a-customized-gitignore-file-across-drush-make-builds:a0167166354a1579d70789b020f359e4&#34;&gt;Managing a customized .gitignore file across drush make builds&lt;/h1&gt;

&lt;h2 id=&#34;the-problem:a0167166354a1579d70789b020f359e4&#34;&gt;The problem&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;https://github.com/drush-ops/drush&#34;&gt;Drush&lt;/a&gt; 8&lt;/strong&gt; overwrites the .gitignore file after a successful makefile execution.&lt;/p&gt;

&lt;p&gt;This affects complex projects where multiple dependency sources are present, and where other reasons might require a significant override of the &lt;strong&gt;.gitignore&lt;/strong&gt; file provided by Drupal, which ends up diffed, causing &lt;code&gt;git status&lt;/code&gt; to produce an ugly output, until the committed .gitignore is restored.&lt;/p&gt;

&lt;h2 id=&#34;origin-of-the-problem:a0167166354a1579d70789b020f359e4&#34;&gt;Origin of the problem&lt;/h2&gt;

&lt;p&gt;In recent upgrades, the &lt;code&gt;--overwrite&lt;/code&gt; option has been added to Drush in order to force the overwrite of existing folders (the command docs don&amp;rsquo;t  mention files, althought some file reference is present in the code comments), while the default behavior is to &lt;em&gt;merge&lt;/em&gt;, which means keeping existing folder content. This option has only an impact on &lt;strong&gt;directories&lt;/strong&gt; inside the project&amp;rsquo;s root and doesn&amp;rsquo;t affect the files in the root.&lt;/p&gt;

&lt;h2 id=&#34;how-the-problem-was-investigated:a0167166354a1579d70789b020f359e4&#34;&gt;How the problem was investigated&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;I created a couple of docker containers based on &lt;a href=&#34;https://hub.docker.com/r/sparkfabrik/docker-php-base-image/&#34;&gt;SparkFabrik base PHP image&lt;/a&gt; well suitable for PHP/Drupal development.&lt;/li&gt;
&lt;li&gt;In both containers, I replaced the default Drush version (8.0.5 installed with phar) so that I could debug and alter the code on the fly&lt;/li&gt;
&lt;li&gt;In a container I installed version 6.7.0 (downloading the &lt;a href=&#34;https://github.com/drush-ops/drush/releases/tag/6.7.0&#34;&gt;release tarball&lt;/a&gt;) in the other I installed the &amp;ldquo;source&amp;rdquo; version of Drush 8.0.5 (&lt;a href=&#34;http://docs.drush.org/en/master/install-alternative/&#34;&gt;via composer&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;I created a small repository containing a .gitignore slightly different than Drupal&amp;rsquo;s one, and a makefile with some dependencies&lt;/li&gt;
&lt;li&gt;Then I executed &lt;code&gt;drush make&lt;/code&gt; in both containers, with the &lt;code&gt;--debug&lt;/code&gt; option that enhance output&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;execution-flow:a0167166354a1579d70789b020f359e4&#34;&gt;Execution flow&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;During makefile processing, files are downloaded in a temp directory and only at the end they are copied to the final destination by the function &lt;a href=&#34;https://github.com/drush-ops/drush/blob/8.0.5/commands/make/make.drush.inc#L739&#34;&gt;&lt;code&gt;make_move_build&lt;/code&gt;&lt;/a&gt;. The process is basically a recursive copy of the elements found in the root of the downloaded codebase.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;make_move_build&lt;/code&gt; is also responsible for reading the &lt;code&gt;--overwrite&lt;/code&gt; option and pass a consequent value to the function in charge of copying both files and directories: &lt;a href=&#34;https://github.com/drush-ops/drush/blob/8.0.5/includes/filesystem.inc#L215&#34;&gt;&lt;code&gt;drush_copy_dir&lt;/code&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Before calling &lt;code&gt;drush_copy_dir&lt;/code&gt;, &lt;code&gt;make_move_build&lt;/code&gt; loops through root-level items and treats directories differently (see &lt;a href=&#34;https://github.com/drush-ops/drush/commit/d10826132d72f8dabc10a396efe43319d4a5b316&#34;&gt;https://github.com/drush-ops/drush/commit/d10826132d72f8dabc10a396efe43319d4a5b316&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;In &lt;code&gt;drush_copy_dir&lt;/code&gt; the value passed when &lt;code&gt;--overwrite&lt;/code&gt; is set is only used to create a log entry (&lt;a href=&#34;https://github.com/drush-ops/drush/blob/6.7.0/includes/filesystem.inc#L224&#34;&gt;https://github.com/drush-ops/drush/blob/6.7.0/includes/filesystem.inc#L224&lt;/a&gt;), but not in order to avoid overwriting files.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;workaround-and-solutions:a0167166354a1579d70789b020f359e4&#34;&gt;Workaround and solutions&lt;/h2&gt;

&lt;p&gt;As a workaround, we set the build system (we&amp;rsquo;re currently using &lt;a href=&#34;https://www.phing.info/&#34;&gt;Phing&lt;/a&gt;) to execute a &lt;code&gt;git checkout&lt;/code&gt; of the committed version of .gitignore.&lt;/p&gt;

&lt;p&gt;The &lt;em&gt;real&lt;/em&gt; solution might consist in applying the &lt;code&gt;--override&lt;/code&gt; option (or lack of) also for root-level files, but I doubt this was intended by drush contributors, until now. In the following links, you can read a handful of relevant issues, for reference.&lt;/p&gt;

&lt;h2 id=&#34;links:a0167166354a1579d70789b020f359e4&#34;&gt;Links&lt;/h2&gt;

&lt;p&gt;This was the issue that originated the change from the previous behavior: &lt;a href=&#34;https://github.com/drush-ops/drush/pull/1450&#34;&gt;https://github.com/drush-ops/drush/pull/1450&lt;/a&gt; (commit &lt;a href=&#34;https://github.com/drush-ops/drush/pull/1450/commits/d10826132d72f8dabc10a396efe43319d4a5b316&#34;&gt;https://github.com/drush-ops/drush/pull/1450/commits/d10826132d72f8dabc10a396efe43319d4a5b316&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Other issues discussing the same subject:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/drush-ops/drush/issues/1468&#34;&gt;https://github.com/drush-ops/drush/issues/1468&lt;/a&gt; &amp;ldquo;drush make does not overwrite root core files&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/NuCivic/dkan/issues/824&#34;&gt;https://github.com/NuCivic/dkan/issues/824&lt;/a&gt; &amp;ldquo;Move dkan modules downloaded via drush make to their own folder&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/drush-ops/drush/issues/1269&#34;&gt;https://github.com/drush-ops/drush/issues/1269&lt;/a&gt; &amp;ldquo;drush make &lt;code&gt;--overwrite&lt;/code&gt; should respect &lt;code&gt;--projects=&lt;/code&gt;?&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Brown bag happy-hour, April 5th 2016</title>
      <link>http://sparkfabrik.github.io/2016/04/06/brown-bag-happy-hour</link>
      <pubDate>Wed, 06 Apr 2016 08:51:09 +0200</pubDate>
      <author>info@sparkfabrik.com (Sparkfabrik)</author>
      <guid>http://sparkfabrik.github.io/2016/04/06/brown-bag-happy-hour</guid>
      <description>

&lt;p&gt;In the first BBH of spring 2016 Marcello Testi discussed about Drush Make related issues within Drush8, and Paolo Mainardi introduced the Hugo static site generator to the team in order to kickstart the &lt;a href=&#34;http://www.sparkfabrik.com/&#34; title=&#34;SparkFabrik&#34;&gt;SparkFabrik&lt;/a&gt; Tech Blog. We also talked a little about design thanks to our weekly news digest.&lt;/p&gt;

&lt;h1 id=&#34;weekly-news:9c444aa2dfdea4e5244e9f58da10b482&#34;&gt;Weekly News&lt;/h1&gt;

&lt;p&gt;This week we discussed mainly design-related news, brought by Marcello Gorla.&lt;/p&gt;

&lt;h3 id=&#34;adobe-xd:9c444aa2dfdea4e5244e9f58da10b482&#34;&gt;Adobe XD&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;http://sparkfabrik.github.io/posts/2016_adobexd.jpg&#34; alt=&#34;Adobe XD&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Originally know as â€œProject Comet&amp;rdquo;, Adobe has released the preview of &lt;a href=&#34;http://blogs.adobe.com/creativecloud/introducing-adobe-experience-design-cc-preview/&#34;&gt;Adobe XD&lt;/a&gt;, it&amp;rsquo;s own tool intended for design and prototyping of user experience projects. The tool it&amp;rsquo;s an early stage release that still does not offer a full stack of features as we are used to with more advanced (and mature) softwares like Sketch or Adobe Photoshop, but there&amp;rsquo;s a &lt;a href=&#34;https://www.youtube.com/playlist?list=PLD8AMy73ZVxXvBQcZAnOcu57JCFxLi7bQ&#34;&gt;lot of stuff moving on&lt;/a&gt; and we think it&amp;rsquo;s worth trying.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://medium.com/user-experience-design-1/first-impressions-with-adobe-experience-design-107904b5efbe#.25cvqr3ys&#34;&gt;Some opinions&lt;/a&gt; of course have been &lt;a href=&#34;http://techcrunch.com/2016/03/14/adobe-launches-experience-design-cc-a-new-tool-for-ux-designers/&#34;&gt;already popped out&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&#34;frog-will-have-no-more-cco:9c444aa2dfdea4e5244e9f58da10b482&#34;&gt;Frog will have no more CCO&lt;/h3&gt;

&lt;p&gt;After the departure of Hans Neubert, the international design firm &lt;a href=&#34;http://www.frogdesign.com/&#34;&gt;Frog&lt;/a&gt; recently decided &lt;a href=&#34;http://designmind.frogdesign.com/2016/03/evolving-creative-leadership-at-frog/&#34;&gt;not to replace it&amp;rsquo;s Chief Creative Officer with a new one&lt;/a&gt;, implementing a more agile structure with many Creative Officers around the world leading the single design teams. From a wider perspective, this event has an interesting impact.  A &lt;a href=&#34;http://www.fastcodesign.com/3058517/frog-will-have-no-more-chief-creative-officers&#34; title=&#34;Fast Co Design&#34;&gt;Fast Co Design&lt;/a&gt; article made a good point over this, trying to consider what is happening to the design consultancies and firms and to the field in general.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;While design is more in demand than ever, the business of design consultancies has been in flux. Mega business consultants Accenture and IBM have each been making $100 million-plus bets on increasing their design fluency. Meanwhile, design firms ranging from Lunar to Ideo have reassessed their business strategies, and firms like Yves Behar&amp;rsquo;s Fuseproject have sold outright to foreign investors.
(Via &lt;a href=&#34;http://www.fastcodesign.com/3058517/frog-will-have-no-more-chief-creative-officers&#34; title=&#34;Fast Co Design&#34;&gt;Fast Co Design&lt;/a&gt;)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;olo-reached-founding-goal:9c444aa2dfdea4e5244e9f58da10b482&#34;&gt;OLO reached founding goal&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;http://sparkfabrik.github.io/posts/2016_olo.jpg&#34; alt=&#34;Adobe XD&#34; /&gt;&lt;/p&gt;

&lt;p&gt;The Italian Kickstarter project &lt;a href=&#34;https://www.kickstarter.com/projects/olo3d/olo-the-first-ever-smartphone-3d-printer&#34;&gt;Olo&lt;/a&gt;, a 3D printer suited for the smartphones screen, has reached the funding goal and is running fast towards more stellar ones. Promising very good print resolution at low costs, this 3D printer could be a step forward to unchain the potential of personal projects prototyping and experimentation, but also a new frontier to many other unexplored fields like the home-productions of games.&lt;/p&gt;

&lt;h3 id=&#34;bonus-track-trend-to-follow-conversational-interfaces:9c444aa2dfdea4e5244e9f58da10b482&#34;&gt;Bonus Track, trend to follow: conversational interfaces&lt;/h3&gt;

&lt;p&gt;Conversational Interfaces could be a good trend to follow, in our opinion. &lt;a href=&#34;http://www.fastcodesign.com/3058546/conversational-interfaces-explained?partner=rss&#34;&gt;Fast Co Design&lt;/a&gt; article on the topic points out how this pattern is quite interesting from a design point of view, because it elitminates a barrier, the UI, between the human and the machine languages. And this is particularly interesting considering the great hype that is surrounding the new wave of virtual reality interfaces, as the Oculus Rift, and the augmented reality in general.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;So for most of computer history, we&amp;rsquo;ve communicated with computers essentially through Rosetta stones: We point at a symbol representing what we want a computer to do, and then it does it. For example, clicking an icon to open an app. With conversational interfaces, computers and humans can finally speak the same language without a Rosetta stone in between.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;On &lt;a href=&#34;https://medium.com/life-learning/the-future-of-cui-isn-t-conversational-fa3d9458c2b5&#34;&gt;Medium, Daniel Eckler&lt;/a&gt; wrote a very good article about how the design impacts this topic.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;The &lt;em&gt;BBH (Brown bag happy-hour)&lt;/em&gt; it&amp;rsquo;s a &lt;a href=&#34;http://www.sparkfabrik.com/&#34; title=&#34;SparkFabrik&#34;&gt;SparkFabrik&lt;/a&gt; regular activity where we share discoveries and techniques with each other and discuss the last two week tech and innovation world novelties.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Hello world</title>
      <link>http://sparkfabrik.github.io/2016/03/23/hello-world</link>
      <pubDate>Wed, 23 Mar 2016 16:31:55 +0000</pubDate>
      <author>info@sparkfabrik.com (Sparkfabrik)</author>
      <guid>http://sparkfabrik.github.io/2016/03/23/hello-world</guid>
      <description>&lt;p&gt;Hello world, posts are coming.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;/**
 * Gathers a listing of links to nodes.
 *
 * @param $result
 *   A database result object from a query to fetch node entities. If your
 *   query joins the {node_comment_statistics} table so that the comment_count
 *   field is available, a title attribute will be added to show the number of
 *   comments.
 * @param $title
 *   A heading for the resulting list.
 *
 * @return
 *   A renderable array containing a list of linked node titles fetched from
 *   $result, or FALSE if there are no rows in $result.
 */
function node_title_list($result, $title = NULL) {
  $items = array();
  $num_rows = FALSE;
  foreach ($result as $node) {
    $items[] = l($node-&amp;gt;title, &#39;node/&#39; . $node-&amp;gt;nid, !empty($node-&amp;gt;comment_count) ? array(&#39;attributes&#39; =&amp;gt; array(&#39;title&#39; =&amp;gt; format_plural($node-&amp;gt;comment_count, &#39;1 comment&#39;, &#39;@count comments&#39;))) : array());
    $num_rows = TRUE;
  }

  return $num_rows ? array(&#39;#theme&#39; =&amp;gt; &#39;item_list__node&#39;, &#39;#items&#39; =&amp;gt; $items, &#39;#title&#39; =&amp;gt; $title) : FALSE;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-docker&#34;&gt;FROM alpine:3.3
MAINTAINER paolo.mainardi@sparkfabrik.com
RUN apk add --no-cache vim py-pip python &amp;amp;&amp;amp; \
  pip install Pygments

# Download and install hugo
ENV HUGO_VERSION 0.15
ENV HUGO_BINARY hugo_${HUGO_VERSION}_linux_amd64
ENV PS1=&#39;\[\033[1;36m\]\u\[\033[1;31m\]@\[\033[1;32m\]\h:\[\033[1;35m\]\w\[\033[1;31m\]\$\[\033[0m\] &#39;

ADD https://github.com/spf13/hugo/releases/download/v${HUGO_VERSION}/${HUGO_BINARY}.tar.gz /usr/local/
RUN tar xzf /usr/local/${HUGO_BINARY}.tar.gz -C /usr/local/ \
  &amp;amp;&amp;amp; ln -s /usr/local/${HUGO_BINARY}/${HUGO_BINARY} /usr/local/bin/hugo \
  &amp;amp;&amp;amp; rm /usr/local/${HUGO_BINARY}.tar.gz

# Create working directory
VOLUME /app
WORKDIR /app

# Add sources.
ADD src/ /app
ADD scripts/build.sh /usr/local/bin/build
RUN chmod +x /usr/local/bin/build

# By default, serve site.
EXPOSE 80
ENV HUGO_URL 0.0.0.0
ENV HUGO_PORT 80
CMD hugo server --bind ${HUGO_URL} --port=${HUGO_PORT} --buildDrafts --renderToDisk=true  --theme=spark --baseUrl=tech.sparkfabrik.loc
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>